<!DOCTYPE html>
<!-- saved from url=(0052)https://x20web.corp.google.com/~shuchen/vk/demo.html -->
<html><head>
    <title>{{language}} virtual keyboard test</title>
    

  <link rel="stylesheet" href="/css/blueprint/screen.css" type="text/css" media="screen">
  <link rel="stylesheet" href="/css/blueprint/print.css" type="text/css" media="print"> 

  <!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/blueprint/ie.css" type="text/css" media="screen, projection">
  <![endif]-->
    
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <script type="text/css">
   {% for font in font_list %}
    @font-face{
      font-family:"{{font.family}}";
      src:url("{{font.source}}");
      font-weight:normal;
      font-style:normal;
    }
    {% endfor %}
    </script>
  <link rel="stylesheet" type="text/css" href="/css/fonts.css">

    <style>
      .default-font {
      font-family: "Arial,Helvetica";
      font-size:12px;
      }

     {% for font in font_list %}
      .{{font.family}} {
      font-family: "{{font.family}},Arial";
      font-size:18px;
      }
      {% endfor %}

    input {font-size:14px;}
    textarea {font-size:18; height:400px;}
    </style>

  <script src="/js/utils.js"></script>
  <script src="/js/vk-debug.js"></script>
  <script>
    var diff_list = [];

    var controller, visible = true;
    function onPageLoaded() {
      var input = document.getElementById('t1');
      controller = new i18n.input.keyboard.Keyboard();
      onSizeSelected(document.getElementById("sizeSelector").value, 't1');
      setFontFamily(document.getElementById("fontSelector").value);
      {% for kb in kb_list %}
      controller.loadLayout('{{kb.shortName}}');
      {% endfor %}
      controller.reposition(input, 3, 4, [5, 0, 0, 0]);
      controller.activateLayout('{{kb_list.0.shortName}}');
      controller.register(input);
      controller.addEventListener(
          'kc',
          function() { visible = false; });
      input.focus();
    }

    function onLayoutSelected(layoutCode) {
      controller.activateLayout(layoutCode);
    }

    function toggle() {
      if (controller) {
        controller.setVisible(visible = !visible);
      }
    }

    function clearText() {
      var field = document.getElementById('t1');
      field.value = '';
      field = document.getElementById('codepoints');
      field.value = '';
      document.getElementById('t1').focus();
    }

    function showCodePoints() {
      var src_field = document.getElementById('t1');
      var code_text = uplus(src_field.value);
      var dest_field = document.getElementById('codepoints');
      dest_field.value = code_text;
      document.getElementById('t1').focus();
    }

    function setFontFamily(newFontFamily) {
      var t1_element = document.getElementById('t1');
      t1_element.style.fontFamily = newFontFamily + ",Arial";
    }

    function onLanguageSelected(newLangTag, textArea) {
      var t1_element = document.getElementById(textArea);
      t1_element.lang = newLangTag;
    }

    function onSizeSelected(newSize, textArea) {
      var t1_element = document.getElementById(textArea);
      t1_element.style.fontSize = newSize;
    }  
  </script>
<style>.vk-box,.vk-btn,.vk-btn-n,.vk-cap,.vk-cap-i,.vk-t,.vk-t-btn{display:inline-block;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none}.vk-box{height:auto;padding:10px;background-color:white;border:1px solid #b8b8b8;border:1px solid rgba(0,0,0,0.3);z-index:2147483644;font-family:arial,sans-serif;font-size:14px;position:fixed;box-shadow:0 4px 16px rgba(0,0,0,0.2)}.vk-box.vk-min{padding:2px}.vk-box.vk-sf-ie{border:1px solid #ccc}.vk-btn{border:1px solid #dcdcdc;border:1px solid rgba(0,0,0,0.1);width:29px;height:29px;margin:2px;text-align:center;vertical-align:middle;position:relative;padding:1px;min-width:0px;max-width:500px;min-height:0px;max-height:50px;color:#444;background-color:#f5f5f5;background-image:linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-webkit-gradient(linear,left top,left bottom,from(#f5f5f5),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-moz-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-ms-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-o-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:linear-gradient(top,#f5f5f5,#f1f1f1);filter:progid:DXImageTransform.Microsoft.gradient(startColorStr='#f5f5f5',EndColorStr='#f1f1f1');border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px}.vk-btn.vk-sf-h{border-color:#c6c6c6;color:#222;background-color:#f8f8f8;background-image:-webkit-gradient(linear,left top,left bottom,from(#f8f8f8),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-moz-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-ms-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-o-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:linear-gradient(top,#f8f8f8,#f1f1f1);filter:progid:DXImageTransform.Microsoft.gradient(startColorStr='#f8f8f8',EndColorStr='#f1f1f1');box-shadow:0px 1px 1px rgba(0,0,0,0.1)}.vk-btn.vk-sf-a{border-color:#c6c6c6;color:#333;background-color:#f6f6f6;background-image:-webkit-gradient(linear,left top,left bottom,from(#f6f6f6),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-moz-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-ms-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-o-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:linear-gradient(top,#f6f6f6,#f1f1f1);filter:progid:DXImageTransform.Microsoft.gradient(startColorStr='#f6f6f6',EndColorStr='#f1f1f1');box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1)}.vk-btn.vk-sf-s{border-color:#ccc;color:#333;background-color:#eeeeee;background-image:-webkit-gradient(linear,left top,left bottom,from(#eeeeee),to(#e0e0e0));background-image:-webkit-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-moz-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-ms-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-o-linear-gradient(top,#eeeeee,#e0e0e0);background-image:linear-gradient(top,#eeeeee,#e0e0e0);filter:progid:DXImageTransform.Microsoft.gradient(startColorStr='#EEEEEE',EndColorStr='#E0E0E0');box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1)}.vk-cap,.vk-t{font-size:14px;font-family:arial,sans-serif;font-weight:normal;line-height:25px}.vk-cap{cursor:default}.vk-cap.vk-sf-b,.vk-t-btn{background-repeat:no-repeat}.vk-cap.vk-sf-b{background-image:url('//ssl.gstatic.com/inputtools/images/ita_sprite1.png');width:22px;height:17px;opacity:.667}.vk-sf-ff2 .vk-cap.vk-sf-b{display:block;position:relative;left:6px;top:0}.vk-cap.vk-sf-b.vk-sf-h{opacity:.9}.vk-cap.vk-sf-b.vk-sf-c8{background-position:-714px -16px}.vk-cap.vk-sf-b.vk-sf-c20{background-position:-614px -66px}.vk-cap.vk-sf-b.vk-sf-c16{background-position:-814px -16px}.vk-cap.vk-sf-c273{font-size:14px}.vk-cap-i{border:none;width:20px;height:20px}.vk-t{height:24px;cursor:move;padding:0px 3px;color:black;display:inline-block;overflow:hidden;width:100%}.vk-t.vk-min{width:auto}.vk-t-btns{margin:0px;padding:0px;position:absolute;display:inline-block;white-space:nowrap;top:0}.vk-t-btns.vk-min{position:relative}.vk-t-btn{margin:0px;background-image:url('//ssl.gstatic.com/inputtools/images/ita_sprite1.png');height:14px!important;width:14px!important;opacity:.4;filter:alpha(opacity=40)}.vk-t-btn.vk-sf-hp{background-position:-670px -70px}.vk-t-btn.vk-sf-min{background-position:-720px -70px}.vk-t-btn.vk-sf-max{background-position:-770px -70px}.vk-t-btn.vk-sf-cl{background-position:-670px -20px}.vk-t-btn.vk-sf-th{opacity:1;filter:alpha(opacity=100)}.vk-t-btn-o{padding:13px 4px 8px 4px;cursor:default;display:inline-block;position:relative}.vk-t-btn-o.vk-min{padding:2px}.vk-t-btn-o.vk-sf-hp{cursor:pointer}</style><script>window["_GOOG_TRANS_EXT_VER"] = "1";</script></head>
<body onload="onPageLoaded()">
  <div class="container">
    <div class="span-1">  
    </div>
  <div class="span-16">
  {% if lang_list %}
  Language: <select onchange="onLanguageSelected(this.value, 't1')">
    {% for lang in lang_list %}
    <option value="{{lang.shortName}}" select="">{{lang.longName}}</option>
    {% endfor %}
  </select>
  {% endif %}
  Keyboard: <select onchange="onLayoutSelected(this.value)">
    {% for kb in kb_list %}
    <option value="{{kb.shortName}}" select="">{{kb.longName}}</option>
    {% endfor %}
  </select>
  <select onchange="setFontFamily(this.value)" id="fontSelector">
    {% for font in font_list %}
    <option value="{{font.family}}">{{font.longName}}</option>
    {% endfor %}
    <option value="Arial">Arial</option>
  </select>
  Size: <select onchange="onSizeSelected(this.value, 't1');" id="sizeSelector">
    <option value="10px" select>10</option>
    <option value="14px" >14</option>
    <option value="18px" selected>18</option>
    <option value="24px" ">24</option>
    <option value="32px" >32</option>
    <option value="48px" >48</option>
  </select>
  <input type="button" value="Clear text" onclick="clearText()">
  <br />

  <!-- If an original encoding area is needed. -->
  {% if encoded_div %} 
  <textarea id="encodeArea" class='default-font' style="width:600px;height:300px;" rows="10"></textarea>
  <br />
  <input type="button" value="Convert to Unicode text"
    onclick="convertToUnicode('encodeArea', 't1');">
  <hr>
  {% endif %}

  <div id="t1_div">
    <textarea id="t1" style="width:600px;font-family:{{font.family.0}};"
      rows="10"
      style="font-size:18px;" lang="{{lang_list.0.shortName}}"></textarea>
  </div>

  <div id="codepoint_div">
    <hr>
    <input type="button" value="Code points" onclick="showCodePoints()">
    <br />
    <textarea id="codepoints" class='default-font'
     style="width:600px;height:100px;"
     rows="5"></textarea>
  </div>
  <br>
      </div>
 <div class="span-4 last">
   {% if links %}
   <h4>Useful links</h4>
     <ul>
   {% for link in links %}
      <li>
        <a href="{{link.ref}}" target="_blank">{{link.linkText}}</a>
     </li>
   {% endfor %}
     </ul>
   {% endif %}
 </div>

</body></html>
