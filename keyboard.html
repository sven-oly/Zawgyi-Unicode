<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="/js/vk-debug.js"></script>


    <link rel="stylesheet" type="text/css" href="/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="/css/keyboard.css">

    <script type="text/css">
      .input {font-size:18px;}
      textarea {font-size:36px;}
    </script>


    <script>

    // Myanmar keyboards

    var controller, visible = true;

    function onPageLoaded() {
      var outputArea = 't1';
      var input = document.getElementById(outputArea);
      controller = new i18n.input.keyboard.Keyboard();
      controller.loadLayout('my');
      controller.loadLayout('shn');
      controller.loadLayout('mnw');
      controller.loadLayout('ksw');
      controller.reposition(input, 2, 0, [1, 0, 0, 0]);
      controller.register(input);
      controller.addEventListener('kc', function() { visible = false; });
      input.focus();
      var selector = document.getElementById('selectKeyboard');
      onLayoutSelected(selector, controller, outputArea);
      //onFontSelected(document.getElementById('selectFont'), 't1');
    }

  // TODO: Add font size.

  function onLayoutSelected(selector, this_controller, outputId) {
    var layoutCode = selector.value;
    if (this_controller) {
      this_controller.activateLayout(layoutCode);
    } else {  // The global.
      controller.activateLayout(layoutCode);
    }
    document.getElementById(outputId).focus();
  }

  function onLayoutRadioSelected(selector, this_controller, outputId) {
    var layoutCode = selector.value;
    if (this_controller) {
      this_controller.activateLayout(layoutCode);
    } else {  // The global.
      controller.activateLayout(layoutCode);
    }
    document.getElementById(outputId).focus();
}

  function toggle() {
    if (controller) {
      controller.setVisible(visible = !visible);
    }
  }

    </script>
  </head>

  <body onload="onPageLoaded()">
  Keyboards for Myanmar languages<br/>
  <textarea id="t1" style="width:600px; height:200px; font-size:30px; font-family:Padauk;"></textarea>
  <br />
  Select keyboard: <select onchange="onLayoutSelected(this, null, 't1');"
       id="selectKeyboard">

      <option value="shn" selected>Shan</option>
      <option value="mnw">Mon</option>
      <option value="ksw">S'gaw Karen</option>
      <option value="my">Burmese</option>

    </select>

  <br />
  <!--
        <input type="radio" name="keyboardLang" value="shn" checked> Shan
        <input type="radio" name="keyboardLang" value="mnw" checked> Mon
        <input type="radio" name="keyboardLang" value="ksw" checked> Karen
        <input type="radio" name="keyboardLang" value="my" checked> Burmese

 -->
  </body>
</html>